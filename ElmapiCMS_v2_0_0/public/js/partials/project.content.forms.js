"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[38],{1007:(t,e,s)=>{s.d(e,{Z:()=>o});const o={props:{type:{type:String,default:"submit"},color:{type:String,default:"gray-800"},hover:{type:String,default:null},padding:{type:String,default:null},disabled:{type:Boolean,default:!1}},computed:{bgColor:function(){var t="";if(this.disabled)t="bg-indigo-200 cursor-not-allowed";else{var e="bg-"+this.color,s=this.color.split("-"),o=null==this.hover?"bg-"+s[0]+"-"+(parseInt(s[1])+100):"bg-"+this.hover,r="bg-"+s[0]+"-"+(parseInt(s[1])+100);s[0],parseInt(s[1]),s[0];t=e+" hover:"+o+" active:"+r}return null===this.padding?t+=" p-3 ":t+=" "+this.padding+" ",t}}}},9475:(t,e,s)=>{s.d(e,{s:()=>o,x:()=>r});var o=function(){var t=this;return(0,t._self._c)("button",{staticClass:"items-center border border-transparent rounded-sm text-sm text-white focus:outline-none transition ease-in-out duration-150",class:t.bgColor,attrs:{type:t.type,disabled:t.disabled}},[t._t("default")],2)},r=[]},4487:(t,e,s)=>{s.d(e,{Z:()=>a});var o=s(9475),r=s(1718);const a=(0,s(1900).Z)(r.Z,o.s,o.x,!1,null,null,null).exports},6306:(t,e,s)=>{s.d(e,{Z:()=>r});const o={props:{show:{default:!1},maxWidth:{default:"3xl"},closeable:{default:!0},disableHeader:{default:!1},disableFooter:{default:!1},noContenPadding:{default:!1}},methods:{close:function(){this.closeable&&this.$emit("close")}},watch:{show:{immediate:!0,handler:function(t){document.body.style.overflow=t?"hidden":null}}},created:function(){var t=this,e=function(e){"Escape"===e.key&&t.show&&t.close()};document.addEventListener("keydown",e),this.$once("hook:destroyed",(function(){document.removeEventListener("keydown",e)}))},computed:{maxWidthClass:function(){return{sm:"sm:max-w-sm",md:"sm:max-w-md",lg:"sm:max-w-lg",xl:"sm:max-w-xl","2xl":"sm:max-w-2xl","3xl":"sm:max-w-3xl","4xl":"sm:max-w-4xl","5xl":"sm:max-w-5xl","6xl":"sm:max-w-6xl","7xl":"sm:max-w-7xl"}[this.maxWidth]}}};const r=(0,s(1900).Z)(o,(function(){var t=this,e=t._self._c;return e("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"fixed z-10 inset-0 overflow-y-auto"},[e("div",{staticClass:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:p-0"},[e("div",{staticClass:"fixed inset-0 transition-opacity",attrs:{"aria-hidden":"true"},on:{click:t.close}},[e("div",{staticClass:"absolute inset-0 bg-gray-500 opacity-75"})]),t._v(" "),e("span",{staticClass:"hidden sm:inline-block sm:align-middle sm:h-screen",attrs:{"aria-hidden":"true"}},[t._v("â€‹")]),t._v(" "),e("div",{staticClass:"inline-block align-bottom bg-white rounded-sm text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle w-full",class:t.maxWidthClass,attrs:{role:"dialog","aria-modal":"true","aria-labelledby":"modal-headline"}},[t.disableHeader?t._e():e("div",{staticClass:"px-6 py-6 border-b border-gray-100 bg-white"},[e("h3",{staticClass:"text-lg leading-6 font-medium text-gray-900"},[t._t("title")],2)]),t._v(" "),e("div",{class:{"px-6 py-4":!t.noContenPadding}},[t._t("content")],2),t._v(" "),t.disableFooter?t._e():e("div",{staticClass:"px-6 py-4 bg-gray-50 text-right mt-5"},[t._t("footer")],2)])])])}),[],!1,null,null,null).exports},3745:(t,e,s)=>{s.r(e),s.d(e,{default:()=>d});var o=s(3343),r=s(2657),a=s(4487),n=s(6306),i=s(4437),l=s(6443);const c={components:{ProjectHeader:o.Z,ContentSidebar:r.Z,UiButton:a.Z,UiModal:n.Z,UiDropdown:i.Z,ContentFormsSidebar:l.Z},data:function(){return{project:{},collection:{},forms:{},openNewFormModal:!1,new_form:{errors:{name:""}},processing_new_form:!1}},methods:{getForms:function(){var t=this;axios.get("/admin/content/forms/"+this.$route.params.project_id+"/"+this.$route.params.col_id).then((function(e){t.project=e.data.project,t.collection=e.data.collection,t.forms=e.data.forms,t.new_form.project_id=e.data.project.id,t.new_form.collection_id=e.data.collection.id,t.collection.fields.forEach((function(t){t.options=JSON.parse(t.options)}))}))},closeNewFormModal:function(){this.openNewFormModal=!1,this.new_form={errors:{name:""}},this.processing_new_form=!1},saveNew:function(){var t=this;axios.post("/admin/content/forms/"+this.$route.params.project_id+"/"+this.$route.params.col_id,this.new_form).then((function(e){t.closeNewFormModal(),t.$toast.success("New form created."),t.$router.push({name:"projects.content.forms.show",params:{project_id:t.project.id,collection_id:t.collection.id,form_id:e.data.id}})}),(function(e){422==e.response.status&&(t.new_form.errors=e.response.data.errors)}))}},mounted:function(){this.getForms()},watch:{"$route.params.col_id":function(t,e){this.getForms()}}};const d=(0,s(1900).Z)(c,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"flex h-full overflow-hidden"},[e("div",{staticClass:"w-96 overflow-x-hidden bg-white"},[e("project-header",{staticClass:"bg-white",attrs:{project:t.project}}),t._v(" "),e("content-sidebar",{attrs:{project:t.project}})],1),t._v(" "),e("div",{staticClass:"p-4 w-full overflow-x-auto"},[e("div",{staticClass:"mb-2 py-2 font-bold text-lg flex justify-end"},[e("div",{staticClass:"flex-1"},[t._v("\n                "+t._s(t.collection.name)+" "),e("small",{staticClass:"text-gray-500 font-normal"},[t._v(" / Forms")])])]),t._v(" "),e("div",{staticClass:"space-y-10"},[e("div",{staticClass:"grid grid-cols-1 gap-4 sm:grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4"},[e("div",{staticClass:"bg-green-500 hover:bg-green-600 text-white cursor-pointer items-center flex justify-center py-5",on:{click:function(e){t.openNewFormModal=!0}}},[e("i",{staticClass:"fas fa-plus-circle md:mr-4 text-sm md:text-xl"}),t._v("\n                    Create a New Form\n                ")]),t._v(" "),t._l(t.forms,(function(s){return e("router-link",{key:s.id,staticClass:"bg-white hover:bg-gray-100 px-10 py-6 text-gray-900 border border-gray-100 cursor-pointer items-center rounded-sm relative",attrs:{to:{name:"projects.content.forms.show",params:{project_id:t.$route.params.project_id,col_id:t.$route.params.col_id,form_id:s.id}}}},[e("span",{staticClass:"font-bold mt-3 block text-lg"},[t._v(t._s(s.name))]),t._v(" "),e("span",{staticClass:"text-sm block"},[t._v(t._s(s.description))])])}))],2)])]),t._v(" "),e("ui-modal",{attrs:{show:t.openNewFormModal},on:{close:t.closeNewFormModal},scopedSlots:t._u([{key:"title",fn:function(){return[t._v("\n            Create a New Form\n        ")]},proxy:!0},{key:"content",fn:function(){return[e("div",{staticClass:"mt-4 pb-4"},[e("div",{staticClass:"mt-2"},[e("label",{directives:[{name:"formlabel",rawName:"v-formlabel"}]},[t._v("Form Name")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.new_form.name,expression:"new_form.name"},{name:"forminput",rawName:"v-forminput"}],attrs:{type:"text",autofocus:""},domProps:{value:t.new_form.name},on:{input:function(e){e.target.composing||t.$set(t.new_form,"name",e.target.value)}}}),t._v(" "),e("p",{staticClass:"text-sm text-red-600 mt-2"},[t._v(t._s(t.new_form.errors.name[0]))])]),t._v(" "),e("div",{staticClass:"mt-6"},[e("label",{directives:[{name:"formlabel",rawName:"v-formlabel"}]},[t._v("Description")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.new_form.description,expression:"new_form.description"},{name:"forminput",rawName:"v-forminput"}],attrs:{type:"text"},domProps:{value:t.new_form.description},on:{input:function(e){e.target.composing||t.$set(t.new_form,"description",e.target.value)}}})])])]},proxy:!0},{key:"footer",fn:function(){return[e("ui-button",{attrs:{color:"gray-50",hover:"gray-200"},nativeOn:{click:function(e){return t.closeNewFormModal.apply(null,arguments)}}},[e("span",{staticClass:"text-gray-800"},[t._v("Cancel")])]),t._v(" "),e("ui-button",{staticClass:"w-48",attrs:{color:"indigo-500",disabled:t.processing_new_form},nativeOn:{click:function(e){return t.saveNew.apply(null,arguments)}}},[t.processing_new_form?e("i",{staticClass:"fas fa-spinner fa-spin"}):t._e(),t._v("\n                Create New Form\n            ")])]},proxy:!0}])})],1)}),[],!1,null,null,null).exports},6443:(t,e,s)=>{s.d(e,{Z:()=>r});const o={props:["forms"]};const r=(0,s(1900).Z)(o,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"bg-white mb-2 rounded-sm p-4 pb-2"},[t._m(0),t._v(" "),0==t.forms.length?e("div",{staticClass:"text-sm bg-yellow-100 p-2 text-gray-600"},[t._v("This collection doesn't have any forms yet. Create a new one.")]):t._e(),t._v(" "),e("ul",t._l(t.forms,(function(s){return e("li",{key:s.id,staticClass:"mb-2"},[e("router-link",{staticClass:"block w-full p-2 cursor-pointer hover:bg-gray-100 rounded",attrs:{to:{name:"projects.content.forms.show",params:{project_id:t.$route.params.project_id,col_id:t.$route.params.col_id,form_id:s.id}}}},[t._v(t._s(s.name))])],1)})),0)])}),[function(){var t=this._self._c;return t("h4",{staticClass:"mb-2 font-bold text-lg flex justify-between items-center h-10"},[t("div",[this._v("Forms")])])}],!1,null,null,null).exports},2657:(t,e,s)=>{s.d(e,{Z:()=>r});const o={data:function(){return{searchCollection:"",openSearchInput:!1}},computed:{filterSearch:function(){var t=this;if(void 0!==this.project.collections)return this.project.collections.filter((function(e){return!t.searchCollection||e.name.toLowerCase().indexOf(t.searchCollection.toLowerCase())>-1}))}},props:["project"]};const r=(0,s(1900).Z)(o,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"p-4 bg-white"},[e("div",{staticClass:"mb-4"},[t.openSearchInput?t._e():e("h4",{staticClass:"mb-2 p-2 font-bold text-lg flex justify-between items-center h-10"},[e("div",[t._v("\n                Content    \n            ")]),t._v(" "),e("div",[e("a",{staticClass:"text-sm text-blue-500 p-1 px-3 cursor-pointer rounded-md hover:bg-gray-100",on:{click:function(e){t.openSearchInput=!0}}},[e("i",{staticClass:"fas fa-search"})])])]),t._v(" "),t.openSearchInput?e("div",{staticClass:"mb-2 relative flex w-full flex-wrap items-stretch mb-2 h-10"},[t._m(0),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.searchCollection,expression:"searchCollection"}],staticClass:"px-3 py-3 placeholder-gray-400 text-gray-700 bg-white rounded-sm text-sm w-full pl-10 border-gray-200 focus:border-gray-300",attrs:{type:"text",placeholder:"Search...",autofocus:""},domProps:{value:t.searchCollection},on:{input:function(e){e.target.composing||(t.searchCollection=e.target.value)}}}),t._v(" "),e("span",{staticClass:"z-9 h-full leading-snug font-normal absolute text-center text-gray-400 absolute bg-transparent rounded-sm text-base items-center justify-center w-8 py-3 right-0 pr-3 cursor-pointer",on:{click:function(e){t.searchCollection="",t.openSearchInput=!1}}},[e("i",{staticClass:"fas fa-times-circle"})])]):t._e()]),t._v(" "),e("ul",[t._l(t.filterSearch,(function(s){return e("li",{key:s.id,staticClass:"mb-2"},[e("router-link",{staticClass:"block w-full p-2 cursor-pointer hover:bg-gray-100 rounded",attrs:{to:{name:"projects.content.list",params:{project_id:t.project.id,col_id:s.id}}}},[t._v(t._s(s.name))])],1)})),t._v(" "),t._m(1),t._v(" "),e("li",{staticClass:"mb-2"},[void 0!==t.project.id?e("router-link",{staticClass:"block w-full p-2 cursor-pointer hover:bg-gray-100 rounded",attrs:{to:{name:"projects.media_library",params:{id:t.project.id}}}},[e("i",{staticClass:"fas fa-images text-gray-600 mr-3"}),t._v(" Media Library")]):t._e()],1)],2)])}),[function(){var t=this._self._c;return t("span",{staticClass:"z-9 h-full leading-snug font-normal absolute text-center text-gray-400 absolute bg-transparent rounded-sm text-base items-center justify-center w-8 pl-3 py-3"},[t("i",{staticClass:"fas fa-search"})])},function(){var t=this._self._c;return t("li",{staticClass:"mb-2"},[t("hr")])}],!1,null,null,null).exports},3343:(t,e,s)=>{s.d(e,{Z:()=>r});const o={props:["project"],methods:{checkRole:s(3787).Z}};const r=(0,s(1900).Z)(o,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"p-4 flex border-b"},[e("div",{staticClass:"w-full"},[e("div",{staticClass:"text-xl font-bold"},[t._v("\n            "+t._s(t.project.name)+"\n        ")]),t._v(" "),e("div",{staticClass:"text-sm"},[t._v(t._s(t.project.description))])]),t._v(" "),e("div",{staticClass:"flex items-center"},[void 0!==t.project.id&&t.checkRole(["admin"+t.project.id])?e("router-link",{staticClass:"text-xl text-gray-600 cursor-pointer",attrs:{to:{name:"projects.settings",params:{project_id:t.project.id}},"exact-active-class":"bg-none"}},[e("i",{staticClass:"fas fa-cog"})]):t._e()],1)])}),[],!1,null,null,null).exports},1718:(t,e,s)=>{s.d(e,{Z:()=>o});const o=s(1007).Z}}]);